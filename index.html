<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Game</title>
<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(180deg,#120a1f,#2b123f);
  color:#fff;
}
.container{
  max-width:800px;
  margin:auto;
  padding:20px;
}
.card{
  background:rgba(255,255,255,0.08);
  border-radius:18px;
  padding:20px;
}
button{
  padding:10px 18px;
  border-radius:12px;
  border:none;
  background:#ff4da6;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
button:disabled{
  opacity:.5;
  cursor:not-allowed;
}
input,textarea{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:none;
  margin-top:10px;
}
.top{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
  font-size:14px;
}
.heart{
  position:fixed;
  animation:float 3s linear forwards;
  font-size:18px;
}
@keyframes float{
  from{bottom:-20px;opacity:1}
  to{bottom:110%;opacity:0}
}
</style>
</head>

<body>
<div class="container">
  <div class="top">
    <div>Screen <span id="screenNum">1</span>/25</div>
    <div>Score <span id="score">0</span>/100</div>
  </div>
  <div class="card" id="app"></div>
  <br>
  <button id="nextBtn">Next</button>
</div>

<script>
const BOYFRIEND="Vihang";
const YOU="Mahak";

let level=0;
let score=0;
let unlocked=false;

const app=document.getElementById("app");
const nextBtn=document.getElementById("nextBtn");

function hearts(n=6){
  for(let i=0;i<n;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="üíó";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  }
}

function updateTop(){
  document.getElementById("screenNum").innerText=level+1;
  document.getElementById("score").innerText=score;
}

function render(){
  unlocked=false;
  nextBtn.disabled=true;
  updateTop();

  // LEVEL 1
  if(level===0){
    app.innerHTML=`
      <h2>Hello ${BOYFRIEND}</h2>
      <p>Are you ready for a game?</p>
      <button onclick="unlock()">Yes</button>
    `;
    return;
  }

  // LEVEL 2 (FIXED)
  if(level===1){
    app.innerHTML=`
      <h2>When did everything start?</h2>
      <input id="dateAns" placeholder="Type date">
      <p id="msg">Only one chance.</p>
    `;
    let tried=false;
    nextBtn.onclick=()=>{
      if(tried)return;
      tried=true;
      const v=document.getElementById("dateAns").value.toLowerCase();
      if(v.includes("24") && (v.includes("march") || v.includes("3"))){
        document.getElementById("msg").innerHTML="Correct ‚úÖ";
        score+=10;
        unlock();
        hearts();
      }else{
        document.getElementById("msg").innerHTML="Wrong ‚ùå You are stuck here.";
        nextBtn.disabled=true;
      }
    };
    return;
  }

  // LEVEL 3
  if(level===2){
    app.innerHTML=`
      <h2>Find the most important name in your life</h2>
      <p>Hint: it's not your name</p>
      <button onclick="unlock()">I found it</button>
    `;
    return;
  }

  // LEVEL 4
  if(level===3){
    app.innerHTML=`
      <h2>Write anything</h2>
      <textarea></textarea>
    `;
    unlock();
    return;
  }

  // LEVEL 5
  if(level===4){
    app.innerHTML=`
      <h2>Where did we first meet?</h2>
      <input placeholder="Type anything">
    `;
    unlock();
    return;
  }

  // LEVEL 6
  if(level===5){
    app.innerHTML=`
      <h2>Who proposed first?</h2>
      <input id="p">
    `;
    nextBtn.onclick=()=>{
      if(document.getElementById("p").value.toLowerCase()==="me"){
        score+=5;
        unlock();
        hearts();
      }
    };
    return;
  }

  // LEVEL 7
  if(level===6){
    app.innerHTML=`
      <h2>What moment felt special?</h2>
      <textarea></textarea>
    `;
    unlock();
    return;
  }

  // LEVEL 8
  if(level===7){
    app.innerHTML=`
      <h2>If Mahak could do one thing without fear?</h2>
      <button onclick="wrong()">Roam</button>
      <button onclick="wrong()">Go abroad</button>
      <button onclick="wrong()">Beach</button>
      <button onclick="correct()">Do everything</button>
    `;
    return;
  }

  // LEVEL 9+
  if(level>=8 && level<24){
    app.innerHTML=`
      <h2>Game Level ${level+1}</h2>
      <p>Tap Next to continue üòå</p>
    `;
    unlock();
    return;
  }

  // LEVEL 25
  if(level===24){
    app.innerHTML=`
      <h2>Will you be my Valentine? üíó</h2>
      <button onclick="yes()">Yes</button>
      <button onclick="hearts()">No</button>
    `;
    return;
  }
}

function unlock(){
  unlocked=true;
  nextBtn.disabled=false;
}

function wrong(){ hearts(); }
function correct(){ score+=10; unlock(); hearts(); }
function yes(){
  app.innerHTML="<h2>Good choice üò§üíó</h2>";
  hearts(20);
}

nextBtn.onclick=()=>{
  if(!unlocked)return;
  level++;
  render();
};

render();
</script>
</body>
</html>
